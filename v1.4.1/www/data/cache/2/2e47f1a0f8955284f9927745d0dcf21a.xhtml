
<h1 class="sectionedit1" id="cyclops_tools">Cyclops Tools</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Cyclops Tools" [1-29] -->
<h2 class="sectionedit2" id="conocer_el_resumen_del_estado_del_entorno_productivo">Conocer el resumen del estado del entorno productivo</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Existe un comando de tipo tool (herramientas especificas de apoyo a cyclops) desarrollada especificamente para un entorno HPC con slurm + lustre que sirve para conocer de manera amigable el estado de los principales elementos y estructuras de las que depende el correcto funcionamiento de sistema para la realizacion de su funcion principal, a lo que denominamos <strong> entorno productivo </strong>.</div>
</li>
<li class="level1"><div class="li"> El comando a ejecutar es:<pre class="code">/opt/cyclops/tools/approved/test.productive.env.sh -t [active|pasive]</pre>
</div>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code">critical environment analisys
-----------------------------

analisys type                  PASIVE
date                           12-23-2015
time                           10:03

detailed results
-----------------------------
management                     OPERATIVE
login                          OPERATIVE
ls_mds                         OPERATIVE
ls_oss                         OPERATIVE
air                            OPERATIVE
-----------------------------

FINAL RESULT                   OPERATIVE</pre>
</div></div><ul>
<li class="level1 node"><div class="li"> La opción <strong> -t </strong> permite ejecutar mas rápidamente o mas fiablemente el test:</div>
<ul>
<li class="level2"><div class="li"> <strong> active </strong>: el test lanza una comprobación completa del sistema por lo que se obtienen los resultados mas actualizados posibles, su ejecución puede tardar entre 15 segundos y varios minutos (nunca mas de 10 y en caso de mas de 2 minutos habrá problemas en algunos dispositivos/nodos).</div>
</li>
<li class="level2"><div class="li"> <strong> pasive </strong>: el test utiliza la ultima monitorizacion existente para comprobar el estado del entorno productivo, su ejecución sera muy rápida pero solo se recomienda en caso de disponer de datos actualizados de la monitorizacion </div>
</li>
</ul>
</li>
</ul>
<ol>
<li class="level1"><div class="li"> Siempre que este muestre el mensaje <strong> OPERATIVE </strong> ha de considerarse que el sistema continua funcionando independientemente de las alertas existentes en otros servicios y/o hosts, prestar especial atención si el mensaje va acompañado de algún tipo de WARNING , en cuyo caso hay que depurarlo para detectar si ocurrirá una caída inminente del entorno productivo.</div>
</li>
<li class="level1"><div class="li"> Siempre que parezca el mensaje <strong> NO OPERATIVE </strong> el entorno productivo estará caído y por tanto las acciones para recuperar el sistema son prioritarias, el comando puede ayudar a localizar el origen de los elementos que han generado el problema</div>
</li>
</ol>

</div>
<!-- EDIT2 SECTION "Conocer el resumen del estado del entorno productivo" [30-2403] -->
<h1 class="sectionedit3" id="limpiar_un_nodo_de_procesos_problematicos">Limpiar un nodo de Procesos problematicos</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> Se ha desarrollado una herramienta especifica para la eliminacion de procesos de tipo “<em>zombie</em>” y de tipo “<em>huerfanos</em>” estos ultimos son procesos de usuarios que por distintas razones se quedan activos en nodos de computos que ya no tienen en ejecucion ningun <em>job</em> de dicho usuario</div>
</li>
<li class="level1 node"><div class="li"> El comando para comprobar la existencia de estos procesos es:<pre class="code">/opt/cyclops/tools/approved/zombie.restore.sh -n [nodo/grupo/familia] -t [zombie|orphan] -v [human|commas|wiki] -k</pre>
</div>
<ul>
<li class="level2"><div class="li"> <strong> -n [obligatorio] </strong> , parametro para especificar el nodo o nodos donde se desea comprobar el estado de los procesos</div>
</li>
<li class="level2"><div class="li"> <strong> -t [obligatorio] </strong> , parametro donde se especifica el tipo de procesos sobre los que se quiere actuar.</div>
</li>
<li class="level2"><div class="li"> <strong> -v </strong> , parametro que formatea la salida segun las necesidades del ejecutor.</div>
</li>
<li class="level2"><div class="li"> <strong> -k </strong>, paramentro que ejecuta un kill ( señal 9 ) sobre los procesos detectados</div>
</li>
</ul>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code">date        time   hostname    user      ppid   pid     status  process          kill status
06-10-2015  14:31  nimbus3101  dcharpin  23767  23777   S       dcharpin@pts/1   NO KILL
06-10-2015  14:31  nimbus3101  dcharpin  23777  23778   S       -bash            NO KILL
06-10-2015  14:31  nimbus3102  pn13      1      37302   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3101  pnl       1      32239   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3102  png       1      87490   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3101  pn13      1      68614   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3101  png       1      91944   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3101  harmonie  1      117120  S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3109  png       1      56695   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3113  pn13      1      34932   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3113  png       1      101274  S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3114  png       1      26063   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3115  pn13      1      23084   S       intelremotemond  NO KILL
06-10-2015  14:31  nimbus3115  png       1      25399   S       -1               NO KILL
06-10-2015  14:31  nimbus3115  png       25399  25400   S       -1               NO KILL
06-10-2015  14:31  nimbus3210  pn13      1      38384   S       intelremotemond  NO KILL</pre>
</div></div><ul>
<li class="level1"><div class="li"> <strong> NOTA </strong>, los procesos huerfanos solo se comprobaran sobre nodos de computo y en caso de existir jobs de slurm en ejecucion en dicho nodo no se realizara ninguna accion (ni siquiera chequeo)</div>
</li>
</ul>

</div>
<!-- EDIT3 SECTION "Limpiar un nodo de Procesos problematicos" [2404-5133] -->
<h1 class="sectionedit4" id="configurar_el_acceso_bmc">Configurar el Acceso BMC</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <strong><span style="color: orange">NOTA:</span> Herramienta optimizada para la SUIT HPC de BULL </strong></div>
</li>
<li class="level1"><div class="li"> Esta Herramienta permite configurar las bmc de los equipos deseados con unos parametros predeterminados, esta recomendada para equipos nuevos, cambios de placa o bmc reseteadas.</div>
</li>
<li class="level1"><div class="li"> El comando a utilizar:<pre class="code">/opt/cyclops/tools/approved/tool.configure.bmc.sh [nombre de nodo/nombre de nodo[rango]]</pre>
</div>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code"></pre>
</div></div>
</div>
<!-- EDIT4 SECTION "Configurar el Acceso BMC" [5134-5616] -->
<h1 class="sectionedit5" id="extraccion_de_mac_s_desde_el_log_de_dhcp">Extracción de MAC&#039;s desde el log de DHCP</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <strong><span style="color: orange">NOTA:</span> Herramienta optimizada para la SUIT HPC de BULL </strong></div>
</li>
<li class="level1 node"><div class="li"> El comando obtiene la dirección mac de la red de gestión, permitiendo posteriormente darla de alta en la clusterdb</div>
<ul>
<li class="level2"><div class="li"> Esta informacion la obtiene del log del dhcp, por lo que esta herramienta habra de ser utilizada en el nodo que tenga el servicio de dhcp activo.</div>
</li>
<li class="level2 node"><div class="li"> La herramienta fuerza un apagado y reinicio del nodo para obtener una peticion en el dhcp, tener en cuenta las siguientes protecciones:</div>
<ul>
<li class="level3"><div class="li"> Los nodos sobre los que se va a actuar no deben estar en la monitorizacion en modo <strong>up</strong></div>
</li>
<li class="level3"><div class="li"> En caso de encontrarse en otro modo pero aun asi siguen operativos en el gestor de colas slurm y tienen jobs en ejecucion la herramienta no operara sobre dicho nodo.</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> En la mayoria de los casos esta herramienta dependera de la herramienta <strong> tool.mac.extract.sh </strong> para que los valores de acceso a la bmc sean los adecuados.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> El comando a ejecutar:<pre class="code">/opt/cyclops/tools/approved/tool.mac.extract.sh -n [nombre de nodo/nombre de nodo[rango]]</pre>
</div>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code"></pre>
</div></div>
</div>
<!-- EDIT5 SECTION "Extracción de MAC's desde el log de DHCP" [5617-6787] -->
<h1 class="sectionedit6" id="actualizacion_de_firmware_de_nodos_b710">Actualización de Firmware de nodos B710</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <span style="color: orange">NOTA: Herramienta critica, usar con extremo cuidado</span></div>
</li>
<li class="level1"><div class="li"> El comando ha de indicar de manera oblicatoria el nodo o nodos sobre los que se va a realizar la actualizacion, opcion <strong> -n [nodo o rango] </strong></div>
</li>
<li class="level1 node"><div class="li"> <strong> Modo Interactivo </strong> ( por defecto ):</div>
<ul>
<li class="level2 node"><div class="li"> Este modo verifica el estado de un nodo antes de actualizarlo:</div>
<ol>
<li class="level3"><div class="li"> Estado energetico del nodo, ha de estar en <strong> off </strong> para poderse actualizar.</div>
</li>
<li class="level3"><div class="li"> Estado de la monitorizacion del nodo, ha de estar en <strong> drain </strong> para poderse actualizar.</div>
</li>
<li class="level3"><div class="li"> El comando ha de lanzarse desde una sesion creada con el comando screen.</div>
</li>
</ol>
</li>
<li class="level2 node"><div class="li"> El modo interactivo permite usar los siguientes parametros:</div>
<ul>
<li class="level3"><div class="li"> <strong> -y </strong> : pregunta antes de actualizar un nodo</div>
</li>
<li class="level3"><div class="li"> <strong> -p </strong> : paraleliza el lanzamiento de actualizacion, por lo que el tiempo de una actualizacion masiva de nodos se reduce sustancialmente.</div>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Ejemplo de Comando interactivo:<pre class="code">/opt/cyclops/tools/approved/tool.update.fw.node.sh -n [nodo o rango de nodos] -p -y</pre>
</div>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code">[root@nimbus0 approved]# ./tool.update.fw.node.sh -n nimbus[6201-6218] -p 

INFO: CHECK UPGRADE OPTIONS:
INFO:   PARALLEL EXEC:          YES
INFO:   ASK BEFORE:             NO
INFO:   ALTERNATIVE FILE:       NO
INFO:   NODE RANGE:             nimbus[6201-6218]

INFO: You can follow detailed fw update in /opt/cyclops/logs/fw.update.[BMC HOSTNAME].[DATE YYYYMMDDTHHMM].log

PRESS ANY KEY TO START FW UPGRADE OR CTRL+C TO CANCEL ALL PROCESS... 
NODE: nimbus6201 : bmc6201 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6201 : bmc6201 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6201 : bmc6201 : BMC update :                               [ START ]
NODE: nimbus6202 : bmc6202 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6202 : bmc6202 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6202 : bmc6202 : BMC update :                               [ START ]
NODE: nimbus6203 : bmc6203 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6203 : bmc6203 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6203 : bmc6203 : BMC update :                               [ START ]
NODE: nimbus6204 : bmc6204 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6204 : bmc6204 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6204 : bmc6204 : BMC update :                               [ START ]
NODE: nimbus6205 : bmc6205 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6205 : bmc6205 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6205 : bmc6205 : BMC update :                               [ START ]
NODE: nimbus6206 : bmc6206 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6206 : bmc6206 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6206 : bmc6206 : BMC update :                               [ START ]
NODE: nimbus6207 : bmc6207 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6207 : bmc6207 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6207 : bmc6207 : BMC update :                               [ START ]
NODE: nimbus6208 : bmc6208 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6208 : bmc6208 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6208 : bmc6208 : BMC update :                               [ START ]
NODE: nimbus6209 : bmc6209 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6209 : bmc6209 : FIRMWARE                                   [ UPGRADING ]
NODE: nimbus6209 : bmc6209 : BMC update :                               [ START ]
NODE: nimbus6210 : bmc6210 : RIGHT STATUS FOR UPGRADE :                 [ START ]
NODE: nimbus6210 : bmc6210 : FIRMWARE                                   [ UPGRADING ]

.
.
.</pre>
</div></div><ul>
<li class="level1 node"><div class="li"> <strong> Modo Pasivo </strong>:</div>
<ul>
<li class="level2"><div class="li"> Este modo se activa con el paramentro <strong> -g [nombre de fichero]</strong> :</div>
</li>
<li class="level2"><div class="li"> Tan solo se verifica la existencia del fichero destino.</div>
</li>
<li class="level2 node"><div class="li"> Permite usar las siguientes opciones:</div>
<ul>
<li class="level3"><div class="li"> <strong> -y </strong> : genera el fichero con una pausa antes de cada actualizacion.</div>
</li>
<li class="level3"><div class="li"> <strong> -p </strong> : genera el fichero con el lanzamiento de la actualizacion en paralelo todos los nodos. </div>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Ejemplo de comando pasivo:<pre class="code">/opt/cyclops/tools/approved/tool.update.fw.node.sh -n nimbus[4301-4318] -g temp.sh -y</pre>
</div>
</li>
</ul>
<div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de Salida
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de Salida
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code">AUTO GENERATED FIRMWARE UPGRADE FILE: temp.sh
NODE: nimbus4301 : bmc4301 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4302 : bmc4302 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4303 : bmc4303 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4304 : bmc4304 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4305 : bmc4305 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4306 : bmc4306 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4307 : bmc4307 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4308 : bmc4308 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4309 : bmc4309 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4310 : bmc4310 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4311 : bmc4311 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4312 : bmc4312 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4313 : bmc4313 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4314 : bmc4314 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4315 : bmc4315 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4316 : bmc4316 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4317 : bmc4317 &gt;&gt; [ GENERATING SCRIPT ]
NODE: nimbus4318 : bmc4318 &gt;&gt; [ GENERATING SCRIPT ]</pre>
</div></div><div class="hiddenGlobal  hiddenActive"><div class="hiddenElements"></div><div class="hiddenHead  hiddenSinceBeginning"><div class="hiddenOnHidden">
<p>
Ejemplo de fichero generado
</p>
</div><div class="hiddenOnVisible">
<p>
Ejemplo de fichero generado
</p>
</div></div> <!-- .hiddenHead --><div class="hiddenBody"><pre class="code">#!/bin/bash
echo &quot;AUTO GENERATED FIRMWARE UPGRADE FILE: temp.sh&quot;
nimbus4301()
{

echo &quot;nimbus4301 with bmc name bmc4301 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4301 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4301 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4301 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4301 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4301 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4302()
{

echo &quot;nimbus4302 with bmc name bmc4302 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4302 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4302 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4302 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4302 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4302 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4303()
{

echo &quot;nimbus4303 with bmc name bmc4303 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4303 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4303 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4303 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4303 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4303 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4304()
{

echo &quot;nimbus4304 with bmc name bmc4304 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4304 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4304 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4304 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4304 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4304 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4305()
{

echo &quot;nimbus4305 with bmc name bmc4305 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4305 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4305 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4305 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4305 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4305 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4306()
{

echo &quot;nimbus4306 with bmc name bmc4306 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4306 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4306 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4306 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4306 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4306 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4307()
{

echo &quot;nimbus4307 with bmc name bmc4307 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4307 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4307 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4307 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4307 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4307 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4308()
{

echo &quot;nimbus4308 with bmc name bmc4308 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4308 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4308 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4308 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4308 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4308 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4309()
{

echo &quot;nimbus4309 with bmc name bmc4309 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4309 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4309 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4309 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4309 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4309 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4310()
{

echo &quot;nimbus4310 with bmc name bmc4310 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4310 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4310 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4310 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4310 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4310 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4311()
{

echo &quot;nimbus4311 with bmc name bmc4311 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4311 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4311 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4311 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4311 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4311 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4312()
{

echo &quot;nimbus4312 with bmc name bmc4312 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4312 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4312 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4312 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4312 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4312 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4313()
{

echo &quot;nimbus4313 with bmc name bmc4313 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4313 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4313 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4313 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4313 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4313 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4314()
{

echo &quot;nimbus4314 with bmc name bmc4314 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4314 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4314 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4314 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4314 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4314 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4315()
{

echo &quot;nimbus4315 with bmc name bmc4315 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4315 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4315 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4315 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4315 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4315 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4316()
{

echo &quot;nimbus4316 with bmc name bmc4316 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4316 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4316 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4316 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4316 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4316 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4317()
{

echo &quot;nimbus4317 with bmc name bmc4317 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4317 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4317 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4317 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4317 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4317 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4318()
{

echo &quot;nimbus4318 with bmc name bmc4318 upgrading&quot;
read -p &quot;PRESS ANY KEY TO CONTINUE OR CTRL+C TO CANCEL ALL PROCESS... &quot; -n1 -s
/opt/BSMHW/bin/ipmitool -H bmc4318 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BIOS/BIOSX03.040.04.204.fd BIOS 0
/opt/BSMHW/bin/ipmitool -H bmc4318 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_MAIN/EMM_CPLD_CSP_MAIN_2_8 CPLD_MAIN 0
/opt/BSMHW/bin/ipmitool -H bmc4318 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/CPLD_IOEXP/EMM_CPLD_CSP_IOEXP_5_2 CPLD_IOEXP 0
/opt/BSMHW/bin/ipmitool -H bmc4318 -U super -P pass -v bulloem upgrade /opt/cyclops/aemet/updates/firmwares/bios/b710/b710.ht.enable.bios.03.040.04.204.07.fd BIOS_REGION 0
/opt/BSMHW/bin/ipmitool -H bmc4318 -U super -P pass -v bulloem upgrade /etc/bfup/fw/B710/BMC/fw-wub-wpcm450_bulldc_NEWSCASNB_223700_1343.bin MC 0

}
nimbus4301  # Delete line to disable node update
nimbus4302  # Delete line to disable node update
nimbus4303  # Delete line to disable node update
nimbus4304  # Delete line to disable node update
nimbus4305  # Delete line to disable node update
nimbus4306  # Delete line to disable node update
nimbus4307  # Delete line to disable node update
nimbus4308  # Delete line to disable node update
nimbus4309  # Delete line to disable node update
nimbus4310  # Delete line to disable node update
nimbus4311  # Delete line to disable node update
nimbus4312  # Delete line to disable node update
nimbus4313  # Delete line to disable node update
nimbus4314  # Delete line to disable node update
nimbus4315  # Delete line to disable node update
nimbus4316  # Delete line to disable node update
nimbus4317  # Delete line to disable node update
nimbus4318  # Delete line to disable node update</pre>
</div></div>
</div>
<!-- EDIT6 SECTION "Actualización de Firmware de nodos B710" [6788-] -->